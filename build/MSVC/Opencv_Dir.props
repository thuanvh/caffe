<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ImportGroup Label="PropertySheets" />
  <PropertyGroup Label="UserMacros">
    <OPENCV_DIR>$(SolutionDir)\..\..\..\..\..\..\..\External\opencv\</OPENCV_DIR>
	<OPENCV_INCLUDE_DIR>$(OPENCV_DIR)/include</OPENCV_INCLUDE_DIR>
	<OPENCV_LIB_DIR>$(OPENCV_DIR)\$(PlatformShortName)\$(PlatformToolset)\lib\</OPENCV_LIB_DIR>
	<!--IsDebug: search for 'Debug' in Configuration-->
    <IsDebug>$([System.Convert]::ToString( $([System.Text.RegularExpressions.Regex]::IsMatch($(Configuration), '[Dd]ebug'))))</IsDebug>

  </PropertyGroup>
  <PropertyGroup />
  <Choose>
    <When Condition="$([System.Convert]::ToBoolean($(IsDebug)))">
      <!-- debug macroses -->
      <PropertyGroup Label="UserMacros">
        <OpenCVLib>
opencv_videostab320d.lib;
opencv_structured_light320d.lib;
opencv_phase_unwrapping320d.lib;
opencv_ccalib320d.lib;
opencv_stitching320d.lib;
opencv_tracking320d.lib;
opencv_xfeatures2d320d.lib;
opencv_aruco320d.lib;
opencv_datasets320d.lib;
opencv_rgbd320d.lib;
opencv_saliency320d.lib;
opencv_optflow320d.lib;
opencv_line_descriptor320d.lib;
opencv_ximgproc320d.lib;
opencv_stereo320d.lib;
opencv_face320d.lib;
opencv_xobjdetect320d.lib;
opencv_calib3d320d.lib;
opencv_text320d.lib;
opencv_plot320d.lib;
opencv_dpm320d.lib;
opencv_objdetect320d.lib;
opencv_bioinspired320d.lib;
opencv_features2d320d.lib;
opencv_xphoto320d.lib;
opencv_bgsegm320d.lib;
opencv_highgui320d.lib;
opencv_superres320d.lib;
opencv_videoio320d.lib;
opencv_imgcodecs320d.lib;
opencv_shape320d.lib;
opencv_photo320d.lib;
opencv_dnn320d.lib;
opencv_reg320d.lib;
opencv_video320d.lib;
opencv_fuzzy320d.lib;
opencv_surface_matching320d.lib;
opencv_imgproc320d.lib;
opencv_ml320d.lib;
opencv_flann320d.lib;
opencv_core320d.lib;
		</OpenCVLib>        
      </PropertyGroup>
    </When>
    <Otherwise>
      <!-- other/release macroses -->
      <PropertyGroup Label="UserMacros">
        <OpenCVLib>
opencv_face320.lib;
opencv_dpm320.lib;
opencv_videostab320.lib;
opencv_ccalib320.lib;
opencv_saliency320.lib;
opencv_structured_light320.lib;
opencv_stitching320.lib;
opencv_phase_unwrapping320.lib;
opencv_optflow320.lib;
opencv_xfeatures2d320.lib;
opencv_rgbd320.lib;
opencv_ximgproc320.lib;
opencv_stereo320.lib;
opencv_aruco320.lib;
opencv_tracking320.lib;
opencv_datasets320.lib;
opencv_calib3d320.lib;
opencv_line_descriptor320.lib;
opencv_xobjdetect320.lib;
opencv_text320.lib;
opencv_xphoto320.lib;
opencv_bgsegm320.lib;
opencv_bioinspired320.lib;
opencv_objdetect320.lib;
opencv_features2d320.lib;
opencv_plot320.lib;
opencv_highgui320.lib;
opencv_superres320.lib;
opencv_videoio320.lib;
opencv_dnn320.lib;
opencv_shape320.lib;
opencv_surface_matching320.lib;
opencv_reg320.lib;
opencv_fuzzy320.lib;
opencv_photo320.lib;
opencv_imgcodecs320.lib;
opencv_video320.lib;
opencv_imgproc320.lib;
opencv_ml320.lib;
opencv_flann320.lib;
opencv_core320.lib;
        </OpenCVLib>        
      </PropertyGroup>
    </Otherwise>
  </Choose>
  <ItemDefinitionGroup>
    <ClCompile>
      <AdditionalIncludeDirectories>$(OPENCV_INCLUDE_DIR);%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
    </ClCompile>
    <Link>
      <AdditionalLibraryDirectories>$(OPENCV_LIB_DIR);%(AdditionalLibraryDirectories)</AdditionalLibraryDirectories>
	  <AdditionalDependencies>$(OpenCVLib);%(AdditionalDependencies)</AdditionalDependencies>
    </Link>
  </ItemDefinitionGroup>
  <ItemGroup>
    <BuildMacro Include="OPENCV_DIR">
      <Value>$(OPENCV_DIR)</Value>
      <EnvironmentVariable>true</EnvironmentVariable>
    </BuildMacro>
  </ItemGroup>
</Project>